/**
 * æ‰‹æ©Ÿç‰ˆçµæœåˆ†æé é¢ UI ä¿®æ­£ï¼ˆèˆ‡ responsive.css / main.css åŒæ­¥æ›´æ–° v2.18ï¼‰
 * - è·¨ç³»çµ±è­‰æ“šå€å¡Šå·²ç§»é™¤ï¼›é ‚éƒ¨æŒ‰éˆ•ä¸çˆ†ç‰ˆã€æ€§åˆ¥è† å›Š 48% gold border-radius 8px
 * - å¤§é‹æµå¹´ fortune-timeline-container æ©«å‘æ²å‹•ã€touch-action: pan-x
 * - ç¶œåˆçµè«–é è¨­åªé¡¯ç¤ºå¤§% + ğŸ”½ é»æ“Šå±•é–‹å®Œæ•´åˆ†æï¼›æ­¥é©Ÿåˆ‡æ› setTimeout ç½®é ‚
 * - æ›´æ–°æ™‚è«‹åŒæ­¥æª¢æŸ¥ responsive.css @media (max-width: 768px)/(480px) èˆ‡æœ¬æª”
 */

@media (max-width: 768px) {
    /* 1) é ‚éƒ¨æŒ‰éˆ•ä¸æº¢å‡ºï¼šmax-width: 100vwã€box-sizingã€flex 1 1 0%ï¼ˆèˆ‡ responsive åŒæ­¥ï¼‰ */
    .nav-container {
        width: 100% !important;
        max-width: 100vw !important;
        padding: 10px !important;
        box-sizing: border-box !important;
    }
    .nav-shop-buttons {
        width: 100%;
        max-width: 100vw !important;
        padding: 0 !important;
        box-sizing: border-box !important;
        display: flex !important;
        gap: 8px !important;
        min-width: 0;
    }
    .nav-shop-buttons .shop-btn {
        flex: 1 1 0% !important;
        min-width: 0 !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        font-size: clamp(12px, 3vw, 16px) !important;
    }
    .nav-shop-buttons .shop-btn i {
        flex-shrink: 0;
    }
    
    /* æ²å‹•ï¼šèˆ‡ responsive ä¸€è‡´ï¼Œå‚ç›´æ»‘å‹•ä¸é–æ­» */
    #page-scroll.page-scroll {
        touch-action: pan-y !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    /* 2) æ­¥é©Ÿæ¢èˆ‡å€‹äººè³‡æ–™è¼¸å…¥ä¹‹é–“ï¼šå¼·åˆ¶ 1remï¼Œæ¶ˆé™¤å·¨å¤§ç©ºç™½ */
    .progress-container {
        margin: 1rem 0 !important;
    }
    #input-section.section.active,
    #input-section {
        margin-top: 0 !important;
        margin: 1rem 0 !important;
    }
    
    /* ===== çµ±ä¸€ä¸»è¦å®¹å™¨å¯¬åº¦ï¼ˆèˆ‡è³‡æ–™è¼¸å…¥å€ä¸€è‡´ï¼‰ ===== */
    .main-container {
        padding: 0.5rem !important; /* 10px ç­‰ç´šï¼Œå·¦å³ä¸€è‡´ */
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
    
    /* å€å¡Šé–“è·ï¼šclamp èˆ‡ responsive åŒæ­¥ï¼Œé¿å…å¤§ç©ºç™½ */
    .section {
        padding: clamp(12px, 2.5vw, 18px) !important;
        margin-bottom: clamp(12px, 2.5vw, 18px) !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
    
    /* ===== åˆ†æçµæœå€ï¼šèˆ‡ Bazi åŒå¯¬åŒ paddingï¼ˆæ»¿ç‰ˆï¼Œsafe-area èˆ‡ responsive åŒæ­¥ï¼‰ ===== */
    #result-section {
        width: 100% !important;
        max-width: none !important;
        min-width: 0 !important;
        box-sizing: border-box !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        padding: clamp(12px, 2.5vw, 18px) !important;
        padding-bottom: max(150px, calc(150px + env(safe-area-inset-bottom, 0))) !important;
        overflow-x: auto !important;
        overflow-y: visible !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    /* å…§å±¤èˆ‡ Bazi çš„ bazi-container ä¸€è‡´ï¼šç„¡å·¦å³ paddingï¼Œä¸é™åˆ¶å¯¬åº¦ */
    #result-section .bazi-container,
    #result-section .result-overview,
    #result-section .dimension-analysis,
    #result-section .dimension-content,
    #result-section .dimension-pane,
    #result-section .bazi-result,
    #result-section .analysis-grid-container {
        width: 100% !important;
        max-width: none !important;
        min-width: 0 !important;
        box-sizing: border-box !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
    }
    
    #result-section .bazi-container {
        overflow-x: visible !important;
        overflow-y: visible !important;
    }
    
    /* ===== çµæœæ¦‚è¦½ï¼šå€å¡Šå…¨å¯¬ï¼Œå·¦å³ç„¡é¡å¤–ç•™ç™½ï¼ˆèˆ‡ Bazi å…§å®¹å°é½Šï¼‰ ===== */
    #result-section .result-overview {
        display: block !important;
        width: 100% !important;
        max-width: none !important;
        box-sizing: border-box !important;
        margin-bottom: 1rem !important;
        gap: 0 !important;
    }
    
    #result-section .result-overview > .overview-card,
    #result-section .result-overview > .probability-meter {
        display: block !important;
        width: 100% !important;
        max-width: none !important;
        flex: 1 1 100% !important;
        box-sizing: border-box !important;
        margin-right: 0 !important;
        margin-bottom: 0.75rem !important;
        padding: 0.75rem 0 !important; /* å·¦å³ 0ï¼Œèˆ‡ Bazi å…§å®¹åŒå¯¬ */
    }
    /* æœ¬æ¬¡è¼¸å…¥ï¼šç·Šæ¹Šå–®è¡Œï¼Œæ‰‹æ©Ÿç‰ˆåŒå¯¬ */
    #result-section .input-summary-compact {
        width: 100% !important;
        padding: 0.4rem 0.6rem !important;
        font-size: 0.75rem !important;
    }
    
    #result-section .overview-card,
    #result-section .probability-meter {
        width: 100% !important;
        max-width: none !important;
        box-sizing: border-box !important;
    }
    
    /* ===== æ–‡å­—å€å¡Šï¼šå¯¬åº¦ 100%ï¼Œå¯æ›è¡Œï¼Œä¸é™åˆ¶ max-width ===== */
    #result-section .question-display,
    #result-section .direct-answer {
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
        padding: 0.5rem !important; /* ç´„ 8px */
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        white-space: normal !important;
        flex: 1 1 100% !important;
    }
    
    #result-section .answer-text,
    #result-section .meter-header,
    #result-section .meter-labels {
        width: 100% !important;
        max-width: 100% !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        white-space: normal !important;
    }
    
    /* ===== å››ç¶­åº¦åˆ†æå€ï¼šå·¦å³ç„¡ç•™ç™½ï¼Œèˆ‡ Bazi åŒå¯¬ ===== */
    #result-section .dimension-analysis {
        width: 100% !important;
        max-width: none !important;
        box-sizing: border-box !important;
        padding: 0.75rem 0 !important; /* å·¦å³ 0 */
        margin-bottom: 1rem !important;
    }
    
    #result-section .dimension-tabs {
        width: 100% !important;
        max-width: none !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
        padding-bottom: 0.5rem !important;
        margin-bottom: 0.75rem !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
        gap: 0.35rem !important;
    }
    
    #result-section .dimension-tab {
        flex-shrink: 0 !important;
        padding: 0.4rem 0.6rem !important; /* ç•¥å° */
        font-size: 0.8rem !important;
    }
    
    #result-section .dimension-content,
    #result-section .dimension-pane,
    #result-section .bazi-result {
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
        padding: 0.5rem 0 !important;
        padding-right: 0 !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    /* ===== åˆ†æå¡ç‰‡èˆ‡æ–‡å­—å…§å®¹ï¼šæ»¿ç‰ˆã€flex å¡«æ»¿ ===== */
    #result-section .analysis-grid-container,
    #result-section .analysis-card {
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
    
    #result-section .analysis-card {
        padding: 0.75rem 0 !important; /* å·¦å³ 0ï¼Œèˆ‡ Bazi åŒå¯¬ */
    }
    
    #result-section .text-content,
    #result-section .tag-container,
    #result-section #ui-shensha-content {
        width: 100% !important;
        max-width: 100% !important;
        flex: 1 1 100% !important;
        box-sizing: border-box !important;
    }
    
    /* é¿å…ä»»ä½•å­å…ƒç´ å›ºå®š px å¯¬åº¦é™åˆ¶ */
    #result-section * {
        box-sizing: border-box !important;
    }

    /* ===== è©³ç´°å‘½ç†åˆ†æï¼ˆå«æ¡ƒèŠ±å©šå§»ï¼‰æ‰‹æ©Ÿç‰ˆæ˜“è®€ ===== */
    #result-section .bazi-advanced-analysis,
    #result-section .advanced-analysis-section {
        width: 100% !important;
        max-width: 100% !important;
        padding: 0.75rem 0 !important;
        margin-top: 1rem !important;
    }
    #result-section .advanced-analysis-section h3 {
        font-size: 1.1rem !important;
        margin-bottom: 1rem !important;
        line-height: 1.4 !important;
    }
    #result-section .advanced-analysis-section .analysis-group {
        display: block !important;
        width: 100% !important;
        margin-bottom: 1.25rem !important;
    }
    #result-section .advanced-analysis-section .analysis-group[style*="grid-template-columns: repeat(2, 1fr)"] {
        display: flex !important;
        flex-direction: column !important;
        gap: 1rem !important;
    }
    #result-section .advanced-analysis-section .ten-gods-grid {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 0.5rem !important;
    }
    /* åäºŒé•·ç”Ÿæ‰‹æ©ŸåŒæ­¥ï¼ˆèˆ‡åç¥åˆ†æå››æŸ±ç¶²æ ¼ä¸€è‡´ï¼‰ */
    #result-section .advanced-analysis-section .longevity-grid {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 0.5rem !important;
    }
    #result-section .advanced-analysis-section .longevity-item {
        padding: 0.75rem 0.5rem !important;
        min-height: 3.5rem !important;
    }
    #result-section .advanced-analysis-section .longevity-pillar-name {
        font-size: 0.85rem !important;
    }
    #result-section .advanced-analysis-section .longevity-value {
        font-size: 0.95rem !important;
    }
    #result-section .advanced-analysis-section .analysis-card,
    #result-section .advanced-analysis-section .wealth-analysis,
    #result-section .advanced-analysis-section .relationship-analysis,
    #result-section .advanced-analysis-section .personality-analysis,
    #result-section .advanced-analysis-section .career-analysis {
        width: 100% !important;
        max-width: 100% !important;
    }
    #result-section .advanced-analysis-section .analysis-card {
        padding: 1rem !important;
        margin-bottom: 1rem !important;
    }
    #result-section .advanced-analysis-section .analysis-card h4 {
        font-size: 1rem !important;
        margin-bottom: 0.75rem !important;
    }
    #result-section .advanced-analysis-section p,
    #result-section .advanced-analysis-section .personality-analysis p,
    #result-section .advanced-analysis-section .career-analysis p,
    #result-section .advanced-analysis-section .wealth-analysis div,
    #result-section .advanced-analysis-section .relationship-analysis div,
    #result-section .advanced-analysis-section .relationship-analysis p {
        line-height: 1.65 !important;
        margin-bottom: 0.5rem !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
    }
    #result-section .advanced-analysis-section .traits .strengths,
    #result-section .advanced-analysis-section .traits .weaknesses {
        padding: 0.6rem !important;
        margin-bottom: 0.5rem !important;
        line-height: 1.5 !important;
    }
    
    /* åç¥èˆ‡è—å¹²ï¼šå…¨å¯¬å€å¡Šï¼Œå››æŸ±å‡åˆ†ï¼Œä¸æ©«å‘æ»‘å‹•ã€ä¸ min-width é™åˆ¶ */
    #result-section .analysis-card-tengods {
        overflow-x: visible !important;
    }
    
    #result-section .analysis-card-tengods .gods-detail-grid {
        min-width: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
    }
    
    /* çµæœå€åº•éƒ¨ç•™ç™½ï¼ˆå« iOS å®‰å…¨å€ï¼‰ï¼šèˆ‡ responsive ä¸€è‡´ï¼Œå·²åœ¨ä¸Šæ–¹ #result-section çµ±ä¸€è¨­å®š */
    
    /* ç¶œåˆçµè«–ã€æ¨è–¦å€ç­‰åº•éƒ¨å€å¡Šä¹Ÿç•™ç™½ */
    #result-section .final-conclusion,
    #result-section .master-summary,
    #result-section .product-recommendation-card,
    #result-section .lucky-item-recommendation-card {
        margin-bottom: 0.5rem !important;
    }

    /* ç¶œåˆçµè«–æ‘ºç–Šï¼šæ‰‹æ©Ÿé è¨­æ”¶åˆã€å±•é–‹æŒ‰éˆ•æ˜é¡¯ */
    .conclusion-summary { font-size: 0.9rem !important; line-height: 1.6 !important; }
    .conclusion-details-summary { padding: 0.65rem 0.75rem !important; font-size: 0.9rem !important; min-height: 44px; display: flex; align-items: center; }
    .conclusion-details-content { padding: 0.65rem 0.75rem !important; font-size: 0.85rem !important; }

    /* 5) å¤§é‹æµå¹´ï¼šå¼·åˆ¶æ©«å‘æ²å‹•ã€ä¸æ›è¡Œã€å‚ç›´æ»‘å‹•äº¤çµ¦é é¢ */
    .dayun-container,
    .fortune-cycles-container {
        display: block !important;
        width: 100% !important;
        overflow-x: visible !important;
        overflow-y: visible !important;
        height: auto !important;
        touch-action: pan-y !important;
    }
    .dayun-timeline,
    .fortune-timeline-container {
        display: flex !important;
        flex-wrap: nowrap !important;
        overflow-x: scroll !important;
        overflow-y: hidden !important;
        width: 100% !important;
        height: auto !important;
        -webkit-overflow-scrolling: touch !important;
        touch-action: pan-x !important;
        padding-bottom: 10px !important;
        gap: 10px !important;
    }
    .dayun-item,
    .fortune-item {
        flex: 0 0 auto !important;
        min-width: 80px !important;
        width: 80px !important;
    }

    /* æœ¬ç³»çµ±èªªæ˜ï¼šé è¨­ä¸€è¡Œã€è©³ç´°å±•é–‹æ”¶åˆï¼ˆèˆ‡ responsive åŒæ­¥ï¼‰ */
    .hint-system-note {
        font-size: 0.9rem;
        line-height: 1.5;
    }
    .hint-system-short {
        display: block;
    }
    .hint-system-details {
        margin-top: 0.35rem;
    }
    .hint-system-toggle {
        cursor: pointer;
        color: var(--gold-primary, #D4AF37);
        font-size: 0.85rem;
        list-style: none;
    }
    .hint-system-toggle::-webkit-details-marker { display: none; }
    .hint-system-details p {
        margin: 0.35rem 0 0;
        font-size: 0.85rem;
        opacity: 0.9;
    }

    /* ===== å¤§é‹æµå¹´æ‰‹æ©ŸåŒæ­¥ï¼ˆèˆ‡ main.css .dayun-quality / .dayun-fortune-type ä¸€è‡´ï¼Œæœªä¾†æ›´æ–°è«‹åŒæ­¥ï¼‰ ===== */
    .dayun-quality--excellent,
    .dayun-quality--excellent-bright {
        color: #fff !important;
        background: rgba(56, 142, 60, 0.85) !important;
        border: 1px solid rgba(76, 175, 80, 0.6) !important;
    }
    .dayun-quality--good {
        color: #fff !important;
        background: rgba(67, 160, 71, 0.8) !important;
        border: 1px solid rgba(139, 195, 74, 0.6) !important;
    }
    .dayun-quality--neutral-good {
        color: #1a1a1a !important;
        background: rgba(205, 220, 57, 0.9) !important;
        border: 1px solid rgba(156, 204, 101, 0.6) !important;
    }
    .dayun-quality--neutral,
    .dayun-quality--average {
        color: #1a1a1a !important;
        background: rgba(255, 193, 7, 0.85) !important;
        border: 1px solid rgba(255, 152, 0, 0.6) !important;
    }
    .dayun-quality--warning {
        color: #1a1a1a !important;
        background: rgba(255, 235, 59, 0.9) !important;
        border: 1px solid rgba(255, 193, 7, 0.6) !important;
    }
    .dayun-quality--bad,
    .dayun-quality--poor {
        color: #fff !important;
        background: rgba(198, 40, 40, 0.85) !important;
        border: 1px solid rgba(244, 67, 54, 0.6) !important;
    }
    .dayun-quality--danger {
        color: #fff !important;
        background: rgba(183, 28, 28, 0.9) !important;
        border: 1px solid rgba(211, 47, 47, 0.6) !important;
    }
    .dayun-fortune-type--fav {
        color: #0d3d0d !important;
        background: #c8e6c9 !important;
        border: 1px solid #81c784 !important;
    }
    .dayun-fortune-type--unfav {
        color: #fff !important;
        background: #b71c1c !important;
        border: 1px solid #c62828 !important;
    }
    .dayun-fortune-type--mixed {
        color: #1a1a1a !important;
        background: #fff9c4 !important;
        border: 1px solid #ffca28 !important;
    }
}

/* å°è¢å¹• 480pxï¼šèˆ‡ main.css / responsive.css åŒæ­¥ï¼ˆè¦çš®/è³£è²¨ä¾¿å·¦å³æ’ã€å€å¡Šé–“è·ï¼‰ */
@media (max-width: 480px) {
    .section {
        padding: clamp(12px, 2.5vw, 18px) !important;
        margin-bottom: clamp(12px, 2.5vw, 18px) !important;
    }
    #result-section {
        padding: clamp(12px, 2.5vw, 18px) !important;
        padding-bottom: max(100px, calc(80px + env(safe-area-inset-bottom, 0))) !important;
    }
    .nav-shop-buttons {
        flex-direction: row !important;
        flex-wrap: nowrap;
        gap: 0.5rem;
    }
    .nav-shop-buttons .shop-btn {
        flex: 1 1 0;
        min-width: 0;
    }
    .recommendation-buttons {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 0.5rem;
    }
}
